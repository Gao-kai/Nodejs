<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /**
       *  二进制用4位来表达：最多可以表达2的4次方个数字，也就是16个，范围是从0到15,也就是0-2^4-1
       *  1 1 1 1
       *
       *  1 * 2^3 + 1 * 2^2 + 1 * 2^1 + 1 * 2^0  = 8 + 4 + 2 + 1 = 15
       *
       *  0000 0
       *  0001 1
       *  0010 2
       *  0011 3
       *  0100 4
       *  0101 5
       *  0110 6
       *  0111 7
       *  1000 8
       *  1001 9
       *  1010 10
       *  1011 11
       *  1100 12
       *  1101 13
       *  1110 14
       *  1111 15
       *
       * 得出公式，任意一个N位的二进制无符号位的整数，最多可以表达2^N-1个数字，表达的数字范围是[0,2^n-1]
       *
       * 那么有符号的二进制，4位可以表达多少个数字呢？还是16个，但是数字分配就不一样了
       * 第一个位为0，表示非负数，因此0包含在内
       *  0000 0
       *  0001 1
       *  0010 2
       *  0011 3
       *  0100 4
       *  0101 5
       *  0110 6
       *  0111 7
       *
       * 第一个位为1，表示负数，负数的1可不是1001，而是：
       * + 先拿到+1的二进制 0001
       * + 然后将这个值减去1 也就是0000
       * + 然后取反也就是位运算的！
       * + 最后得到1111 ，这个1111在计算机中表示有符号的数字就是-1
       *
       *  1111 -1
       *  1110 -2
       *  1101 -3
       *  1100 -4
       *  1011 -5
       *  1010 -6
       *  1001 -7
       *  1000 -8
       *
       * 给你一个二进制，如何得出是带符号的十进制数字？
       * 1. 先看第一个符号位，如果是0，那么直接按照普通计算
       * 2. 如果是1，说明是负数，先将负数整体取反
       * 3. 将取反的二进制+1，得到取反后的非符号部分的值
       *
       * 比如给你一个二进制1001
       * 1. 是负数，取反得到0110
       * 2. +1 变成0111
       * 3. 0111 不就是7 那么最终的值就是-7
       *
       * 所以得出结论，N位的二进制可以表示2^N个数，其中负的 2的N-1次方到负的2的0次方区间占一半，0到正的2的N-1次方-1占据一半
       * [-8,-1] 总共8个负数
       * [0,7] 总共8个非负数
       *
       **/

      /* 
        1. 1 << i可以得到一个以1开头，后面是i个0的二进制数字
        2. 拿这个数字和任意一个数字做按位与运算，如果返回结果为0，那么这个数字num的第i位的值一定是0，否则一定是1
        3. 但是不能写：(num & (1 << i)) === 1 ? "1" : "0" 这是因为就算0010和(1<<1)做按位与运算，得到的也是0010也就是2的1次方，而不是1
        */
      function numToBinaryString(num) {
        let binaryString = "";
        for (let i = 7; i >= 0; i--) {
          let s = (num & (1 << i)) === 0 ? "0" : "1";
          binaryString += s;
        }
        return binaryString;
      }

      console.log(numToBinaryString(5));
      console.log(numToBinaryString(10));
      console.log(numToBinaryString(128));
      console.log(numToBinaryString(255));
    </script>
  </body>
</html>
